!function(){"use strict";function t(t,e){function n(e,n,o){function a(){p=d[0].getBoundingClientRect(),m(),x(a)}function f(){e.$watch(s,m),e.$watch(o.align,m),angular.element(t).on("resize",m)}function s(){return p=d[0].getBoundingClientRect(),"x"+p.left+"y"+p.top}function m(){var t,n=o.align?e.$eval(o.align):"tl bl";n&&y[0].offsetWidth>0&&y[0].offsetHeight>0?(t=h(n.split(" ")),g(t,y)||y.css(t)):y.attr("style",(y.attr("style")||"").replace(/position|top|right|bottom|left[^;]+;/g,""))}function g(t,e){var n=e[0].style;return!(t.top&&t.top!==n.top||t.right&&t.right!==n.right||t.bottom&&t.bottom!==n.bottom||t.left&&t.left!==n.left)}function h(e){var n={position:"absolute"},i=u(e[0]),o=u(e[1]),a=y[0].getBoundingClientRect();return n[i.x]=p[o.x]+t.scrollX,n[i.y]=p[o.y]+t.scrollY,i.centerX&&(n[i.x]=n[i.x]-(a.right-a.left)/2),i.centerY&&(n[i.y]=n[i.y]-(a.bottom-a.top)/2),o.centerX&&(n[i.x]=n[i.x]+(p.right-p.left)/2),o.centerY&&(n[i.y]=n[i.y]+(p.bottom-p.top)/2),"right"===i.x&&(n[i.x]=t.innerWidth-n[i.x]),"bottom"===i.y&&(n[i.y]=t.innerHeight-n[i.y]),n[i.x]=r(n[i.x])+"px",n[i.y]=r(n[i.y])+"px",n}var y=i(n,o),d=c(n,o),p=null,x=l()||f;a()}function r(t){return Math.round(100*t)/100}function i(t,e){var n=t;return e.alignParent&&(n=angular.element(o(t,e))),n}function o(t,e){var n=t[0],r=e.alignParent,i=a(n);if(t.parents)n=t.parents(r)[0];else for(;n&&!i.bind(n)(r);)n=n.parentNode;if(!n)throw'ng-attach: alignParent selector did not match any parent: "'+r+'"';return n}function a(t){function e(t){return this.id===t.replace(/^#/,"")}return t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||e}function c(n,r){var i,o=r.attach;return i=t.jQuery||n.is?angular.element(o)[0]:e[0].querySelector?e[0].querySelector(o):e[0].getElementById(o.replace(/^#/,"")),angular.element(i)}function l(){return t.requestAnimationFrame||t.oRequestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame}function u(t){var e={x:"left",y:"top"};return-1!==t.indexOf("b")?e.y="bottom":-1===t.indexOf("t")&&(e.centerY=!0),-1!==t.indexOf("r")?e.x="right":-1===t.indexOf("l")&&(e.centerX=!0),e}return{restrict:"AC",link:n}}angular.module("cb").directive("attach",t),t.$inject=["$window","$document"]}();